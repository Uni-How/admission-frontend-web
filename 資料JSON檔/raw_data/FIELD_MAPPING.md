# Raw Data æ¬„ä½å°ç…§è¡¨

## ğŸ“‹ å€‹äººç”³è«‹ (Personal Application)

### Raw Excel æ¬„ä½åˆ†æ
```
å­¸æ ¡ä»£è™Ÿã€å­¸æ ¡åç¨±ã€å­¸ç³»ä»£ç¢¼ã€å­¸ç³»åç¨±ã€å­¸ç³»ç°¡ç¨±
æ ¡ç³»ç¨®é¡ã€æ€§åˆ¥è¦æ±‚ã€è¡“ç§‘è€ƒè©¦
æ‹›ç”Ÿåé¡ã€å­¸æ¸¬æª¢å®š(åœ‹/è‹±/æ•¸/ç¤¾/è‡ª)
ç¯©é¸å€ç‡(ç¬¬ä¸€éšæ®µ)
è‹±è½æ¨™æº–ã€å‚™è¨»
```

### å°ç…§åˆ° standard.json
| Raw æ¬„ä½ | Standard æ¬„ä½ | è™•ç†æ–¹å¼ |
|---------|--------------|---------|
| å­¸æ ¡ä»£è™Ÿ | (ç”¨æ–¼æ¯”å° school_id) | 6ç¢¼å­¸æ ¡ä»£ç¢¼ |
| å­¸ç³»ä»£ç¢¼ | (ç”¨æ–¼æ¯”å° department_id) | å®Œæ•´ç³»çµ„ä»£ç¢¼ |
| æ‹›ç”Ÿåé¡ | `quota` | è½‰ç‚ºæ•¸å­— |
| æª¢å®š-åœ‹æ–‡/è‹±æ–‡ç­‰ | `exam_thresholds` | è§£æç‚ºé™£åˆ—ï¼Œæ¯ç§‘ä¸€å€‹ç‰©ä»¶ |
| ç¯©é¸å€ç‡ | `selection_multipliers` | è§£æå€ç‡å’Œé †åº |
| è‹±è½æ¨™æº– | `english_listening_threshold` | ç›´æ¥å°æ‡‰ |

---

## ğŸ“‹ åˆ†ç™¼å…¥å­¸ (Distribution Admission)

### Raw Excel æ¬„ä½åˆ†æ
```
æ ¡ç¢¼ã€åºè™Ÿã€å­¸æ ¡åç¨±ã€ç³»çµ„åç¨±
å­¸æ¸¬æª¢å®šæ¨™æº–(å¯èƒ½5å€‹æ¬„ä½: åœ‹/è‹±/æ•¸/ç¤¾/è‡ª)
è‹±è½æª¢å®šæ¨™æº–
æ¡è¨ˆç§‘ç›®åŠåŠ æ¬Š(å¯èƒ½5å€‹æ¬„ä½,åŒ…å«å­¸æ¸¬å’Œåˆ†ç§‘)
åŒåˆ†åƒé…Œã€å‚™è¨»
```

### å°ç…§åˆ° standard.json
| Raw æ¬„ä½ | Standard æ¬„ä½ | è™•ç†æ–¹å¼ |
|---------|--------------|---------|
| æ ¡ç¢¼ + åºè™Ÿ | (ç”¨æ–¼æ¯”å°) | çµ„åˆæˆå®Œæ•´ä»£ç¢¼ |
| å­¸æ¸¬æª¢å®šæ¨™æº– | `exam_thresholds` | å¤šæ¬„ä½åˆä½µç‚ºé™£åˆ— |
| æ¡è¨ˆç§‘ç›®åŠåŠ æ¬Š | `scoring_weights` | è§£æç§‘ç›®ã€ä¾†æºã€å€æ•¸ã€é †åº |
| è‹±è½æª¢å®šæ¨™æº– | `english_listening_threshold` | ç›´æ¥å°æ‡‰ |
| åŒåˆ†åƒé…Œ | `tie_breakers` | è§£æç‚ºç§‘ç›®é™£åˆ— |

---

## ğŸ“‹ ç¹æ˜Ÿæ¨è–¦ (Star Plan)

### Raw Excel æ¬„ä½åˆ†æ
```
å­¸æ ¡ä»£è™Ÿã€å­¸æ ¡åç¨±ã€å­¸ç³»ä»£è™Ÿã€å­¸ç³»åç¨±
å­¸ç¾¤é¡åˆ¥ã€å¤–åŠ åé¡é¡åˆ¥
å¯å¡«å¿—é¡˜æ•¸ã€æ‹›ç”Ÿåé¡
å­¸æ¸¬æª¢å®šæ¨™æº–ã€åˆ†ç™¼æ¯”åºé …ç›®
åœ¨æ ¡å­¸æ¥­æˆç¸¾ã€æŒ‡å®šç§‘ç›®åœ¨æ ¡æˆç¸¾
```

### å°ç…§åˆ° standard.json
| Raw æ¬„ä½ | Standard æ¬„ä½ | è™•ç†æ–¹å¼ |
|---------|--------------|---------|
| å­¸æ ¡ä»£è™Ÿ + å­¸ç³»ä»£è™Ÿ | (ç”¨æ–¼æ¯”å°) | çµ„åˆæ¯”å° |
| æ‹›ç”Ÿåé¡ | `quota` | è½‰ç‚ºæ•¸å­— |
| å­¸æ¸¬æª¢å®šæ¨™æº– | `exam_thresholds` | è§£æç‚ºé™£åˆ— |
| åœ¨æ ¡å­¸æ¥­æˆç¸¾ + æŒ‡å®šç§‘ç›® | `ranking_criteria` | çµ„åˆç‚ºæ’åæ¢ä»¶é™£åˆ— |

---

## âš ï¸ ç‰¹æ®Šè™•ç†æƒ…æ³

### 1. å¤šæ¬„ä½åˆä½µ
**å•é¡Œ**: Excel ä¸­æª¢å®šæ¨™æº–å¯èƒ½åˆ†æ•£åœ¨5å€‹æ¬„ä½
**è§£æ±º**: 
```python
def parse_exam_thresholds(row):
    thresholds = []
    for subject in ['åœ‹æ–‡', 'è‹±æ–‡', 'æ•¸å­¸', 'ç¤¾æœƒ', 'è‡ªç„¶']:
        if row.get(f'æª¢å®š_{subject}'):
            thresholds.append({
                'subject': subject,
                'exam_type': 'å­¸æ¸¬',
                'threshold': row[f'æª¢å®š_{subject}']
            })
    return thresholds
```

### 2. å­—ä¸²è§£æ
**å•é¡Œ**: "æ•¸å­¸ç”²Ã—2.00" éœ€è§£æç‚º subject + multiplier
**è§£æ±º**:
```python
import re
def parse_scoring_weight(text):
    # "æ•¸å­¸ç”²Ã—2.00" â†’ {'subject': 'æ•¸å­¸ç”²', 'multiplier': 2.0}
    match = re.match(r'(.+?)Ã—(\d+\.?\d*)', text)
    if match:
        return {
            'subject': match.group(1),
            'multiplier': float(match.group(2))
        }
```

### 3. æ¯”å°é‚è¼¯
**å•é¡Œ**: Raw data çš„å­¸æ ¡/ç§‘ç³»ä»£ç¢¼å¯èƒ½èˆ‡ç¾æœ‰ JSON ä¸ä¸€è‡´
**è§£æ±º**:
1. å…ˆç”¨ `school_id` + `department_id` ç²¾ç¢ºæ¯”å°
2. è‹¥å¤±æ•—,å˜—è©¦ç”¨å­¸æ ¡åç¨± + ç³»æ‰€åç¨±æ¨¡ç³Šæ¯”å°
3. è¨˜éŒ„ç„¡æ³•æ¯”å°çš„é …ç›®åˆ° `unmatched.json`

---

## ğŸ“Š é æœŸè¼¸å‡ºæ ¼å¼ç¯„ä¾‹

### Personal Application
```json
{
  "personal_application": {
    "quota": 80,
    "exam_thresholds": [
      {"subject": "åœ‹æ–‡", "exam_type": "å­¸æ¸¬", "threshold": "å‡æ¨™"},
      {"subject": "è‹±æ–‡", "exam_type": "å­¸æ¸¬", "threshold": "å‡æ¨™"}
    ],
    "selection_multipliers": [
      {"subject": "æ•¸å­¸A", "multiplier": 5, "order": 1}
    ],
    "english_listening_threshold": "Bç´š",
    "last_year_pass_data": null
  }
}
```

---

## ğŸ¯ é©—è­‰æª¢æŸ¥é»

æ¸…æ´—å®Œæˆå¾Œ,æ¯ç­†è³‡æ–™éœ€é€šé:
- âœ… æ‰€æœ‰å¿…å¡«æ¬„ä½å­˜åœ¨
- âœ… è³‡æ–™é¡å‹æ­£ç¢º (æ•¸å­—ä¸æ˜¯å­—ä¸²)
- âœ… é™£åˆ—éç©º (thresholds, weights ç­‰)
- âœ… ç¬¦åˆ standard.json schema
