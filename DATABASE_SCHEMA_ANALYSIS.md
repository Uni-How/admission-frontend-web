# ğŸ“Š admission_db è³‡æ–™åº«çµæ§‹åˆ†æå ±å‘Š

## ğŸ“ˆ è³‡æ–™åº«æ¦‚æ³

| é …ç›® | æ•¸å€¼ |
|------|------|
| **è³‡æ–™åº«åç¨±** | `admission_db` |
| **é›†åˆæ•¸é‡** | 1 |
| **æ–‡æª”ç¸½æ•¸** | 61 |
| **å¹³å‡æ–‡æª”å¤§å°** | 85.5 KB |
| **ç¸½æ•¸æ“šå¤§å°** | 5.2 MB |
| **å­˜å„²å¤§å°** | 3.1 MB |
| **ç´¢å¼•æ•¸é‡** | 2 |
| **ç´¢å¼•å¤§å°** | 77.8 KB |

---

## ğŸ” é›†åˆè©³ç´°çµæ§‹

### **é›†åˆåç¨±ï¼š`schools`**

#### ç´¢å¼•é…ç½®
| ç´¢å¼•åç¨± | å­—æ®µ | é¡å‹ |
|---------|------|------|
| `_id_` | `_id` | ObjectId (ä¸»éµ) |
| `school_id_1` | `school_id` | String (æœå°‹ç´¢å¼•) |

---

## ğŸ“‹ é ‚å±¤æ¬„ä½çµæ§‹

```
schools (Collection)
â”œâ”€â”€ _id                 [ObjectId]           - ä¸»éµ
â”œâ”€â”€ school_id          [String]             - å­¸æ ¡ID
â”œâ”€â”€ school_name        [String]             - å­¸æ ¡åç¨±
â”œâ”€â”€ school_type        [String]             - å­¸æ ¡é¡å‹ (åœ‹ç«‹/ç§ç«‹)
â”œâ”€â”€ school_images      [Array<String>]      - å­¸æ ¡åœ–ç‰‡URLé™£åˆ—
â”œâ”€â”€ school_url         [String]             - å­¸æ ¡å®˜ç¶²URL
â”œâ”€â”€ campuses           [Array<Campus>]      - æ ¡å€ä¿¡æ¯é™£åˆ—
â”œâ”€â”€ departments        [Array<Department>]  - ç³»æ‰€ä¿¡æ¯é™£åˆ—
â”œâ”€â”€ __v                [Number]             - MongoDBç‰ˆæœ¬å­—æ®µ
â”œâ”€â”€ createdAt          [Date]               - å‰µå»ºæ™‚é–“
â””â”€â”€ updatedAt          [Date]               - æ›´æ–°æ™‚é–“
```

---

## ğŸ« æ ¡å€ (Campus) çµæ§‹

```
Campus Document
â”œâ”€â”€ campus_id          [String]             - æ ¡å€ID
â”œâ”€â”€ campus_name        [String]             - æ ¡å€åç¨±
â”œâ”€â”€ is_main            [Boolean]            - æ˜¯å¦ç‚ºä¸»æ ¡å€
â””â”€â”€ location           [Object]
    â”œâ”€â”€ city           [String]             - åŸå¸‚
    â”œâ”€â”€ district       [String]             - å€åŸŸ
    â”œâ”€â”€ address        [String]             - è©³ç´°åœ°å€
    â””â”€â”€ google_map_url [String]             - Googleåœ°åœ–é€£çµ
```

---

## ğŸ“ ç³»æ‰€ (Department) çµæ§‹

```
Department Document
â”œâ”€â”€ department_id              [String]           - ç³»æ‰€ID
â”œâ”€â”€ department_name            [String]           - ç³»æ‰€åç¨±
â”œâ”€â”€ college                    [String]           - å­¸é™¢åç¨±
â”œâ”€â”€ academic_group             [String]           - å­¸ç¾¤åˆ†é¡
â”œâ”€â”€ campus_ids                 [Array<String>]    - æ‰€å±¬æ ¡å€IDåˆ—è¡¨
â”œâ”€â”€ department_description     [String]           - ç³»æ‰€æè¿°
â”œâ”€â”€ years_of_study             [Number]           - å­¸ç¿’å¹´æ•¸
â””â”€â”€ admission_data             [Object]           - æ‹›ç”Ÿæ•¸æ“š â¬‡ï¸
    â”œâ”€â”€ 114                    [Object]           - 114å¹´æ‹›ç”Ÿæ•¸æ“š
    â”‚   â””â”€â”€ plans              [Object]
    â”‚       â”œâ”€â”€ personal_application    [AdmissionPlan]
    â”‚       â”œâ”€â”€ distribution_admission  [AdmissionPlan]
    â”‚       â””â”€â”€ star_plan               [AdmissionPlan]
    â””â”€â”€ 115                    [Object]           - 115å¹´æ‹›ç”Ÿæ•¸æ“š
        â””â”€â”€ plans              [Object]
            â”œâ”€â”€ personal_application    [AdmissionPlan]
            â”œâ”€â”€ distribution_admission  [AdmissionPlan]
            â””â”€â”€ star_plan               [AdmissionPlan]
```

---

## ğŸ“ æ‹›ç”Ÿè¨ˆç•« (AdmissionPlan) çµæ§‹

```
AdmissionPlan Document
â”œâ”€â”€ quota                      [Number | Null]    - æ‹›ç”Ÿäººæ•¸é…é¡
â”œâ”€â”€ exam_thresholds            [Array]            - è€ƒè©¦ç§‘ç›®é–€æª» (æ”¯æŒAND/ORé‚è¼¯)
â”‚   â””â”€â”€ {
â”‚       â”œâ”€â”€ subject            [String]           - ç§‘ç›®åç¨±
â”‚       â”œâ”€â”€ exam_type          [String]           - è€ƒè©¦é¡å‹
â”‚       â”œâ”€â”€ threshold          [String]           - é–€æª»ç­‰ç´š
â”‚       â””â”€â”€ group              [Number]           - åˆ†çµ„ID (åŒä¸€group=OR, ä¸åŒgroup=AND) âœ¨æ–°å¢
â”‚   }
â”œâ”€â”€ selection_multipliers      [Array]            - é¸ç§‘å€ç‡
â”‚   â””â”€â”€ {
â”‚       â”œâ”€â”€ subject            [String]           - ç§‘ç›®åç¨±
â”‚       â””â”€â”€ multiplier         [Number]           - å€ç‡æ•¸å€¼
â”‚   }
â”œâ”€â”€ scoring_weights            [Array]            - è¨ˆåˆ†æ¬Šé‡ï¼ˆåˆ†ç§‘ç”¨ï¼‰
â”‚   â””â”€â”€ {
â”‚       â”œâ”€â”€ subject            [String]           - ç§‘ç›®åç¨±
â”‚       â”œâ”€â”€ source_type        [String]           - ä¾†æºé¡å‹
â”‚       â””â”€â”€ multiplier         [Number]           - æ¬Šé‡å€ç‡
â”‚   }
â”œâ”€â”€ tie_breakers               [Array<String>]    - åŒåˆ†åƒé…Œé †åº
â”œâ”€â”€ ranking_criteria           [Array]            - æ’åæ¨™æº–
â”‚   â””â”€â”€ {
â”‚       â””â”€â”€ item               [String]           - è©•åˆ†é …ç›®æè¿°
â”‚   }
â”œâ”€â”€ english_listening_threshold [String | Null]   - è‹±è½é–€æª»
â””â”€â”€ last_year_pass_data        [Null]             - å»å¹´é€šéåˆ†æ•¸ï¼ˆé ç•™æ¬„ä½ï¼‰
```

### ğŸ†• exam_thresholds ä¸­çš„ AND/OR é‚è¼¯ï¼ˆ114å­¸å¹´åˆ†ç§‘å…¥å­¸æ–°å¢ï¼‰

**é‚è¼¯èªªæ˜**ï¼š
- **åŒä¸€ group å…§çš„å¤šå€‹ç§‘ç›®** = `OR` é—œä¿‚ï¼ˆåªéœ€æ»¿è¶³å…¶ä¸­ä¸€å€‹ï¼‰
- **ä¸åŒ group çš„ç§‘ç›®** = `AND` é—œä¿‚ï¼ˆéœ€å…¨éƒ¨æ»¿è¶³ï¼‰

**ç¯„ä¾‹**ï¼šå°å¤§å“²å­¸ç³» 114 å­¸å¹´åˆ†ç§‘å…¥å­¸
```json
"exam_thresholds": [
  {
    "subject": "è‹±æ–‡",
    "exam_type": "å­¸æ¸¬",
    "threshold": "å‰æ¨™",
    "group": 1
  },
  {
    "subject": "æ•¸å­¸A",
    "exam_type": "å­¸æ¸¬",
    "threshold": "å‰æ¨™",
    "group": 2
  },
  {
    "subject": "æ•¸å­¸B",
    "exam_type": "å­¸æ¸¬",
    "threshold": "å‰æ¨™",
    "group": 2
  }
]
```

**é‚è¼¯è§£æ**ï¼š
```
Group 1: è‹±æ–‡å‰æ¨™
Group 2: (æ•¸å­¸Aå‰æ¨™) OR (æ•¸å­¸Bå‰æ¨™)

å®Œæ•´é‚è¼¯ï¼šè‹±æ–‡å‰æ¨™ AND ((æ•¸å­¸Aå‰æ¨™) OR (æ•¸å­¸Bå‰æ¨™))
```

---

## ğŸ“Š è³‡æ–™é¡å‹å°æ‡‰è¡¨

| è³‡æ–™é¡å‹ | BSON é¡å‹ | èªªæ˜ | ç¯„ä¾‹ |
|---------|----------|------|------|
| **ObjectId** | ObjectId | MongoDB ä¸»éµ | `6943873bb7bf1b8a4bea1123` |
| **String** | String | æ–‡å­— | `"åœ‹ç«‹è‡ºç£å¤§å­¸"` |
| **Number** | Number | æ•¸å­— | `23`, `3.5` |
| **Boolean** | Boolean | å¸ƒæ—å€¼ | `true`, `false` |
| **Array** | Array | é™£åˆ— | `["C001", "C002"]` |
| **Date** | Date | æ—¥æœŸæ™‚é–“ | `2025-12-18T04:47:01.692Z` |
| **Document** | Document | åµŒå¥—æ–‡æª” | `{...}` |
| **Null** | Null | ç©ºå€¼ | `null` |

---

## ğŸ”‘ ä¸»è¦æ¬„ä½èªªæ˜

### å­¸æ ¡ç›¸é—œ
- **school_id**: å”¯ä¸€è­˜åˆ¥ç¢¼ï¼ˆæœ‰ç´¢å¼•ï¼Œå¿«é€ŸæŸ¥è©¢ï¼‰
- **school_type**: åŒ…æ‹¬ã€Œåœ‹ç«‹ã€å’Œã€Œç§ç«‹ã€
- **school_images**: å¯å­˜å„²å¤šå¼µåœ–ç‰‡URL

### ç³»æ‰€åˆ†é¡
- **academic_group**: åˆ†ç‚º12å€‹å­¸ç¾¤
  - æ–‡å²å“²å­¸ç¾¤
  - æ³•æ”¿å­¸ç¾¤
  - å•†æ¥­èˆ‡ç®¡ç†å­¸ç¾¤
  - ç¤¾æœƒèˆ‡å¿ƒç†å­¸ç¾¤
  - æ•¸ç†åŒ–å­¸ç¾¤
  - ç‰©ç†ã€åŒ–å­¸ã€åœ°çƒèˆ‡ç’°å¢ƒå­¸ç¾¤
  - ç”Ÿå‘½ç§‘å­¸å­¸ç¾¤
  - é†«è—¥è¡›ç”Ÿå­¸ç¾¤
  - å·¥ç¨‹å­¸ç¾¤
  - å»ºç¯‰èˆ‡è¨­è¨ˆå­¸ç¾¤
  - è—è¡“å­¸ç¾¤
  - è³‡è¨Šå­¸ç¾¤
  - å…¶ä»–

### æ‹›ç”Ÿç›¸é—œ
- **quota**: æœªæä¾›æ•¸æ“šæ™‚ç‚º `null`ï¼ˆå…±æœ‰è¨ˆç•«ï¼‰
- **exam_thresholds**: é–€æª»ç­‰ç´šï¼ˆé ‚æ¨™ã€å‰æ¨™ã€å‡æ¨™ã€å¾Œæ¨™ã€åº•æ¨™ï¼‰
- **english_listening_threshold**: è‹±è½å–®ç¨é–€æª»ï¼ˆå¦‚ã€ŒAç´šã€ã€ã€ŒBç´šã€ï¼‰
- **ranking_criteria**: ç”¨æ–¼åŒåˆ†åƒé…Œ

---

## ğŸ“‰ è³‡æ–™å®Œæ•´æ€§åˆ†æ

| æ¬„ä½ | å¿…å¡« | å¯é¸ | èªªæ˜ |
|------|-----|------|------|
| `_id` | âœ… | âŒ | MongoDBè‡ªå‹•ç”Ÿæˆ |
| `school_id` | âœ… | âŒ | æœ‰ç´¢å¼• |
| `school_name` | âœ… | âŒ | |
| `school_type` | âœ… | âŒ | |
| `school_images` | âœ… | âŒ | é™£åˆ—å¯ç‚ºç©º |
| `school_url` | âœ… | âŒ | |
| `campuses` | âœ… | âŒ | é™£åˆ—å¯ç‚ºç©º |
| `departments` | âœ… | âŒ | é™£åˆ—å¯ç‚ºç©º |
| `quota` | âŒ | âœ… | å¸¸ç‚º null |
| `english_listening_threshold` | âŒ | âœ… | å¸¸ç‚º null |
| `ranking_criteria` | âŒ | âœ… | å¸¸ç‚ºç©ºé™£åˆ— |

---

## ğŸ¯ å…¸å‹æŸ¥è©¢æ¨¡å¼

```javascript
// 1. æŒ‰å­¸æ ¡åç¨±æŸ¥è©¢
db.schools.findOne({ school_name: "åœ‹ç«‹è‡ºç£å¤§å­¸" })

// 2. æŸ¥è©¢ç‰¹å®šç³»æ‰€
db.schools.find({ 
  "departments.academic_group": "è³‡è¨Šå­¸ç¾¤" 
})

// 3. æŒ‰å¹´ä»½æŸ¥è©¢æ‹›ç”Ÿè³‡è¨Š
db.schools.find({
  "departments.admission_data.114.plans.personal_application.quota": { $gt: 0 }
})

// 4. æŒ‰åœ°å€æŸ¥è©¢
db.schools.find({
  "campuses.location.city": "è‡ºåŒ—å¸‚"
})

// 5. æŸ¥è©¢æœ‰è‹±è½é–€æª»çš„ç³»æ‰€
db.schools.find({
  "departments.admission_data.114.plans.personal_application.english_listening_threshold": { $ne: null }
})
```

---

## ğŸ“ è³‡æ–™è¦æ¨¡åƒè€ƒ

### ç³»æ‰€æ•¸é‡çµ±è¨ˆ
- **ç¸½ç³»æ‰€æ•¸**: ç´„ 2,000+ (å«å¤šå¹´ä»½)
- **å¹³å‡æ¯æ ¡ç³»æ‰€æ•¸**: ç´„ 30-50 å€‹

### å­˜å„²å„ªåŒ–å»ºè­°
1. âœ… å·²å»ºç«‹ `school_id` ç´¢å¼• - åŠ å¿«æŒ‰å­¸æ ¡æŸ¥è©¢
2. ğŸ’¡ å¯è€ƒæ…®åœ¨ `departments.academic_group` æ·»åŠ è¤‡åˆç´¢å¼•
3. ğŸ’¡ å¯è€ƒæ…®åœ¨ `campuses.location.city` æ·»åŠ ç´¢å¼•ï¼ˆåœ°ç†æŸ¥è©¢ï¼‰
4. ğŸ’¡ å¯è€ƒæ…®åˆ†é›¢æ‹›ç”Ÿæ•¸æ“šåˆ°ç¨ç«‹é›†åˆï¼ˆè‹¥æ•¸æ“šæŒçºŒå¢é•·ï¼‰

---

## ğŸ”„ ç‰ˆæœ¬æ§åˆ¶
- **__v**: ç”¨æ–¼ Mongoose æ¨‚è§€é–å®šæ©Ÿåˆ¶
- **createdAt/updatedAt**: è‡ªå‹•æ™‚é–“æˆ³

---

## ğŸ¨ è¦–è¦ºåŒ–æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    admission_db                          â”‚
â”‚                  (5.2 MB | 61 Documents)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚   schools    â”‚
                      â”‚  (Collection)â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼               â–¼               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ School â”‚â”€â”€â”€â–¶â”‚Campuses[]â”‚   â”‚Departmentsâ”‚
        â”‚ Info   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  Array[]   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â–¼                   â–¼                â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Dept Info  â”‚â”€â”€â”€â–¶â”‚Admission Dataâ”‚   â”‚ Location â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â–¼                   â–¼                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Year â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Plans â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Quotas & â”‚
                    â”‚(114) â”‚           â””â”€â”€â”€â”€â”€â”€â”˜        â”‚Thresholds
                    â”‚(115) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Œ é—œéµæŒ‡æ¨™

```
è³‡æ–™åº«æ•ˆèƒ½æŒ‡æ¨™:
â”œâ”€â”€ æ–‡æª”å¹³å‡å¤§å°: 85.5 KB âœ“ (é©ä¸­)
â”œâ”€â”€ ç´¢å¼•è¦†è“‹: 2 å€‹ç´¢å¼•
â”œâ”€â”€ æŸ¥è©¢å„ªåŒ–åº¦: ä¸­ç­‰ (å¯é€²ä¸€æ­¥å„ªåŒ–)
â”œâ”€â”€ æ•¸æ“šå†—é¤˜åº¦: ä½ (çµæ§‹åŒ–è‰¯å¥½)
â””â”€â”€ æ“´å±•æ€§: é«˜ (å¯æ”¯æŒæ›´å¤šå¹´ä»½å’Œå­¸æ ¡)

æ¨è–¦å„ªåŒ–æ–¹å‘:
â””â”€â”€ è€ƒæ…®åœ¨é«˜é »æŸ¥è©¢å­—æ®µæ·»åŠ è¤‡åˆç´¢å¼•
```

---

**ç”Ÿæˆæ™‚é–“**: 2026å¹´1æœˆ8æ—¥  
**è³‡æ–™åº«ç‰ˆæœ¬**: MongoDB (Mongoose ODM)  
**åˆ†æå·¥å…·**: MCP MongoDB å·¥å…·
